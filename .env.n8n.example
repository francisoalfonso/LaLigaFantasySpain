# Configuración n8n MCP (Local y VPS)
# Este archivo define las credenciales para el control de versiones n8n

# ========================================
# N8N LOCAL (MCP - Model Context Protocol)
# ========================================
# Configuración de n8n local para desarrollo con Claude Code
# Instancia local de n8n para testing y desarrollo de workflows

N8N_API_TOKEN=tu_n8n_local_api_token_aqui
N8N_BASE_URL=http://localhost:5678
N8N_MCP_PORT=3001
N8N_MCP_HOST=localhost

# Cómo obtener el token local:
# 1. Iniciar n8n localmente: npx n8n
# 2. Ir a Settings > API
# 3. Generar nuevo API Key
# 4. Copiar token aquí

# ========================================
# N8N VPS (Producción)
# ========================================
# Configuración de n8n en servidor VPS para producción
# Usado para sincronización y control de versiones

N8N_VPS_API_TOKEN=tu_n8n_vps_api_token_aqui
N8N_VPS_BASE_URL=https://n8n.tudominio.com

# Cómo obtener el token VPS:
# 1. Acceder a tu instancia n8n en VPS: https://n8n.tudominio.com
# 2. Ir a Settings > API
# 3. Generar nuevo API Key
# 4. Copiar token aquí

# ========================================
# CONTROL DE VERSIONES
# ========================================
# El sistema compara automáticamente:
# - Versiones de n8n (local vs VPS)
# - Cantidad de workflows
# - Workflows actualizados recientemente
# - Workflows que existen solo en una instancia

# Comandos disponibles:
# npm run n8n:check-versions     - Verificación manual de versiones
# npm run n8n:version-daily      - Verificación diaria automática

# API Endpoints disponibles:
# GET /api/n8n-versions/compare  - Comparar versiones MCP vs VPS
# GET /api/n8n-versions/status   - Estado rápido de sincronización
# GET /api/n8n-versions/latest   - Último snapshot guardado
# GET /api/n8n-versions/history  - Historial de comparaciones

# ========================================
# CRON JOB RECOMENDADO (opcional)
# ========================================
# Para automatizar verificación diaria, agregar a crontab:
# 0 9 * * * cd /ruta/proyecto && npm run n8n:version-daily
# Esto ejecuta verificación cada día a las 9:00 AM

# ========================================
# LOGS Y SNAPSHOTS
# ========================================
# Los snapshots de comparación se guardan en:
# logs/n8n-versions/n8n-comparison-YYYY-MM-DDTHH-mm-ss.json

# Los logs de Winston se guardan en:
# logs/application-YYYY-MM-DD.log
# logs/error-YYYY-MM-DD.log